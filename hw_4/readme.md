# Домашнее задание 4

## Задание 4.1

### Формулировка

Взять функцию подсчета чисел Фибоначчи и сравнить время исполнения кода (вызова функции от большого числа n (чтобы была видна разница в запусках на потоках и процессах) 10 раз через 10 потоков\процессов) при использовании threading и multiprocessing

Необходимо сравнить время выполнения при синхронном запуске, использовании потоков и процессов. 

Артефакт - текстовый файл с результатами запуска различными методами.


### Решение

Файл с решением: [fib.py](fib.py)

Файл с результатами: [fibonacci_results.txt](artifacts%2Ffibonacci_results.txt)


## Задание 4.2

### Формулировка

Переписать функцию `integrate` для того, чтобы ее выполнение можно было распараллелить. 
Использовать `concurrent.futures`: `ThreadPoolExecutor` и `ProcessPoolExecutor`.  
Добавить логирование (когда какая задача запускается), сравнить время выполнения для `integrate(math.cos, 0, math.pi / 2, 
n_jobs=n_jobs`) при разном числе `n_jobs` (от 1 до `cpu_num*2`) при использовании `ThreadPoolExecutor` и `ProcessPoolExecutor`. 

Артефакт - файл логов, файл сравнения времени исполнения в обоих случаях в зависимости от числа воркеров

```python
import math
def integrate(f, a, b, *, n_jobs=1, n_iter=1000000):
    acc = 0
    step = (b - a) / n_iter
    for i in range(n_iter):
        acc += f(a + i * step) * step
    return acc
```

### Решение

Файл с решением: [task_2.py](task_2.py)

Файл с логами: [task_2.log](artifacts%2Ftask_2.log)


## Задание 4.3

### Формулировка

Практика работы с процессами. Использование multiprocessing.Queue
 и multiprocessing.Pipe. Реализовать следующую схему приложения:

У вас есть главный процесс и 2 дочерних (A и B). Из главного процесса вы можете через stdin отправлять сообщения (строки) в процесс A, которые будут складироваться в очередь. К каждому из сообщений процесс A будет применять .lower() и отправлять в процесс B (одно сообщение раз в 5 секунд). Процесс B должен отправлять закодированную строку через rot13 и отправлять в главный процесс откуда печатать в stdout.

Артефакт - текстовый файл взаимодействия вас и программы (необходимо выводить время сообщений)


### Решение

Файл с решением: [task_3.py](task_3.py)

Файл с логами: [task_3.log](artifacts%2Ftask_3.log)